<html>
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>
<body>

<h1>Web site with public and private pages</h1>

<br>
<br>

<div id="login">
    <a href="#" id="generateToken">Get a Token</a>
    <div id="token">Current token:</div>
</div>

<br>
<br>

<div id="test">
    <a href="#" id="getProtected">Get Protected Resource</a>
    <div id="protected"></div>
</div>

<div id="forbidden">
    <a href="#" id="getUnauthorized">Get unauthorized Resource</a>
    <div id="unauthorized"></div>
</div>

<script language="JavaScript">
    $(document).ready(function () {
        $('#generateToken').on('click', function () {
            $.ajax({
                url: '/rest/login',
                type: "POST",
                data: JSON.stringify({username: "ufoscout", password: "password"}),
                contentType: "application/json; charset=utf-8",
                //dataType: "json",
                success: function (text) {
                    $('#token').html('Current Token: ' + text);
                }
            });
        });
        $('#getProtected').on('click', function () {
            $.ajax({
                url: '/rest/protected',
                dataType: 'text',
                headers: {
                    "Authorization": $('#token').html().substring(15)
                },
                success: function (text) {
                    $('#protected').html(text);
                },
                error: function (err) {
                    $('#protected').html('Error: ' + err.toString());
                }
            });
        });
        $('#getUnauthorized').on('click', function () {
            $.ajax({
                url: '/rest/forbidden',
                dataType: 'text',
                success: function (text) {
                    $('#unauthorized').html(text);
                },
                error: function (err) {
                    alert(err);
                }
            });
        });
    });
</script>
</body>
</html>